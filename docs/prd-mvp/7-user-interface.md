# 7. 用户界面

### 7.1 页面结构

```
┌─────────────────────────────────────────────────┐
│  Header (顶部导航栏)                              │
│  [Logo] [项目选择器] [视图切换] [新建] [用户菜单] │
└─────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────┐
│  Filter Bar (过滤栏)                             │
│  [状态] [优先级] [项目] [时间] [关键词搜索] [清除]│
└─────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────┐
│                                                  │
│              主内容区域                            │
│       (List / Table / Kanban / Timeline)         │
│                                                  │
│                                                  │
└─────────────────────────────────────────────────┘
```

### 7.2 主要页面

#### 7.2.1 登录页 (`/login`)

**布局**:
- 居中的登录卡片
- Logo + 标题 "SlowPoke"
- 密码输入框
- "登录"按钮

**交互**:
- 输入密码，按 Enter 或点击"登录"
- 错误提示："密码错误，请重试"

---

#### 7.2.2 主页 (`/`)

**布局**: 见 7.1 页面结构

**视图切换**:
- Tab 切换：List / Table / Kanban / Timeline
- 切换时保留当前的过滤条件

**过滤栏**:
- 使用 shadcn/ui 的 Select、Input 组件
- 实时过滤（无需点击"应用"）

---

#### 7.2.3 TODO 编辑页 (`/todos/{id}/edit`)

**布局**:
```
┌─────────────────────────────────────────────────┐
│  基本信息 (Card)                                  │
│  ┌─────────────────────────────────────────┐   │
│  │ 标题: [____________________________]     │   │
│  │ 状态: [下拉] 优先级: [下拉] 项目: [下拉]  │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────┐
│  详细描述 (Card)                                  │
│  ┌─────────────────────────────────────────┐   │
│  │                                          │   │
│  │   Markdown 编辑器                         │   │
│  │   (分栏：编辑 | 预览)                      │   │
│  │                                          │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
[取消] [保存]
```

**Markdown 编辑器配置**:
- 使用 `@uiw/react-md-editor`
- 分栏模式：左侧编辑，右侧预览
- 工具栏：加粗、斜体、标题、列表、链接、图片、代码块

---

#### 7.2.4 TODO 创建页 (`/todos/new`)

**布局**: 同编辑页，但所有字段为空

---

#### 7.2.5 分享页 (`/share/{token}`)

**布局**: 同主页，但：
- 隐藏"新建"按钮
- 隐藏所有编辑/删除操作
- 顶部显示提示："这是一个只读分享链接"
- 过滤条件锁定（不可修改）

---

### 7.3 UI 组件设计

#### 7.3.1 TODO 卡片 (List / Kanban 视图)

```
┌──────────────────────────────────────────┐
│ [状态徽章] 标题                            │
│ 优先级: ● High  项目: SlowPoke            │
│ 创建于: 2025-11-16 10:30                  │
│                             [编辑] [删除]  │
└──────────────────────────────────────────┘
```

**徽章颜色**:
- `todo` - 灰色
- `in_progress` - 蓝色
- `done` - 绿色
- `blocked` - 红色

**优先级标识**:
- `urgent` - 红色圆点
- `high` - 橙色圆点
- `medium` - 黄色圆点
- `low` - 灰色圆点

---

#### 7.3.2 Table 行

| 标题         | 状态     | 优先级 | 项目     | 创建时间   | 完成时间 | 操作         |
| ------------ | -------- | ------ | -------- | ---------- | -------- | ------------ |
| 实现创建功能 | [进行中] | ● High | SlowPoke | 2025-11-16 | -        | [编辑][删除] |

---

#### 7.3.3 Kanban 列

```
┌─────────────────────┐
│   待办 (5)          │
├─────────────────────┤
│ [TODO 卡片 1]       │
│ [TODO 卡片 2]       │
│ [TODO 卡片 3]       │
│ ...                 │
└─────────────────────┘
```

**拖拽交互**:
- 卡片可在列之间拖拽
- 拖拽时显示虚线占位符
- 放下后，立即调用 API 更新状态

---

#### 7.3.4 Timeline 项

```
2025-11-16
    ●━━━━━━━━━━━━━━━━━━━━━━━━┓
                              ┃ [状态徽章] 实现创建功能
                              ┃ 优先级: High  项目: SlowPoke
                              ┗━━━━━━━━━━━━━━━━━━━━━━━━
2025-11-15
    ●━━━━━━━━━━━━━━━━━━━━━━━━┓
                              ┃ ...
```

---

### 7.4 响应式设计

**断点**:
- Desktop: ≥ 1024px
- Tablet: 768px - 1023px
- Mobile: < 768px

**移动端适配**:
- 主页：视图切换改为下拉选择器
- Table 视图：隐藏部分列，支持横向滚动
- Kanban 视图：改为垂直堆叠
- 过滤栏：收起为抽屉